
{% extends 'layouts/base.html.twig' %}

{% block title %}
     {{ pin.title }} | Pinterest
{% endblock %}

{% block body %}
<div class="row">
     <div class="col-md-6 mx-auto">
          <article class="pin bg-white rounded shadow">
               <div class="mw-100 overflow-hidden rounded-top">
                         <img class="w-100" src="{{ (pin.imageName ? vich_uploader_asset(pin): asset('build/images/placeholder.png'))|imagine_filter('squared_thumbnail_medium') }}" alt="{{ pin.title }}">
               </div>
               <div class="p-3">

                    <div class="title-like">
                         <h1 class="h5">{{pin.title}}</h1>
                         {% if app.user%}
                         <div>
                              <input type="checkbox" id="checkbox"/>
                              <label for="checkbox">
                                   <svg id="heart-svg" viewBox="467 392 58 57" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round">
                                        <g id="Group" fill="none" fill-rule="evenodd" transform="translate(467 392)">
                                             <path d="M29.144 20.773c-.063-.13-4.227-8.67-11.44-2.59C7.63 28.795 28.94 43.256 29.143 43.394c.204-.138 21.513-14.6 11.44-25.213-7.214-6.08-11.377 2.46-11.44 2.59z" id="heart" />
                                             <circle class="circle" cx="29.5" cy="29.5" r="1.5" stroke="#CD85E7" stroke-width="0 "/>

                                             <g id="grp7" opacity="0" transform="translate(7 6)">
                                                  <circle id="oval1" fill="#9CD8C3" cx="2" cy="6" r="2" />
                                                  <circle id="oval2" fill="#8CE8C3" cx="5" cy="2" r="2" />
                                             </g>

                                             <g id="grp6" opacity="0" transform="translate(0 28)">
                                                  <circle id="oval1" fill="#CC8EF5" cx="2" cy="7" r="2" />
                                                  <circle id="oval2" fill="#91D2FA" cx="3" cy="2" r="2" />
                                             </g>

                                             <g id="grp3" opacity="0" transform="translate(52 28)">
                                                  <circle id="oval2" fill="#9CD8C3" cx="2" cy="7" r="2" />
                                                  <circle id="oval1" fill="#8CE8C3" cx="4" cy="2" r="2" />
                                             </g>

                                             <g id="grp2" opacity="0" transform="translate(44 6)">
                                                  <circle id="oval2" fill="#CC8EF5" cx="5" cy="6" r="2" />
                                                  <circle id="oval1" fill="#CC8EF5" cx="2" cy="2" r="2" />
                                             </g>

                                             <g id="grp5" opacity="0" transform="translate(14 50)">
                                                  <circle id="oval1" fill="#91D2FA" cx="6" cy="5" r="2" />
                                                  <circle id="oval2" fill="#91D2FA" cx="2" cy="2" r="2" />
                                             </g>

                                             <g id="grp4" opacity="0" transform="translate(35 50)">
                                                  <circle id="oval1" fill="#F48EA7" cx="6" cy="5" r="2" />
                                                  <circle id="oval2" fill="#F48EA7" cx="2" cy="2" r="2" />
                                             </g>

                                             <g id="grp1" opacity="0" transform="translate(24)">
                                                  <circle id="oval1" fill="#9FC7FA" cx="2.5" cy="3" r="2" />
                                                  <circle id="oval2" fill="#9FC7FA" cx="7.5" cy="2" r="2" />
                                             </g>
                                        </g>
                                   </svg>
                                   {#                         <div class="numbers">#}
                                   {#                              <a class="num1">14</a>#}
                                   {#                              <a class="num2">15</a>#}
                                   {#                         </div>#}
                              </label>
                         </div>
                         {% endif %}
                    </div>
                    <p class="text-muted">
                         <small>Submitted <time datetime="{{ pin.createdAt|date("Y-m-d H:i:s") }}">{{ pin.createdAt|ago}}</time> by {{pin.user.fullName}}</small>
                    </p>
                    <p class="text-break">{{ pin.description}}</p>


                    <div class="pt-3">
                         {% if  app.user == pin.user %}

                              <a href="{{ path('app_pins_edit', {id:pin.id}) }}" class="btn btn-light" >Edit Pin</a>
                              <a href="#" onclick="event.preventDefault(); confirm('Are you sure ?') && document.getElementById('js-pin-delete-form').submit()" class="btn btn-light">Delete Pin</a>
                         {% endif %}
                    </div>
               </div>
          </article>


          <form id="js-pin-delete-form" action="{{ path('app_pins_delete', {id:pin.id}) }}" method="post" style="display: none">
               <input type="hidden" name="csrf_token" value="{{ csrf_token('pins_deletion_' ~ pin.id) }}">
               <input type="hidden" name="_method" value="DELETE">
          </form>
     </div>
</div>

{% endblock %}